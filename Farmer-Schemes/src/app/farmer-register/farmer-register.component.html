<div class="container-fluid">
  <app-navbar></app-navbar>
  <div class="container">
    <h1>Farmer Registration</h1>
    <div class="alert-message" *ngIf="allAlert">
      {{ allAlert }}
    </div>
    <form [formGroup]="farmerRegisterForm" (ngSubmit)="onRegister()">
      <div class="form">
        <div class="col">
          <input type="radio" id="role" name="bidder" value="bidder" disabled />
          <label for="role">Bidder:</label>
        </div>
        <div class="col">
          <input
            type="radio"
            id="role"
            name="farmer"
            formControlName="role"
            value="farmer"
            checked
          />
          <label for="role">Farmer:</label>
        </div>
      </div>
      <div class="form">
        <p style="width: 15%">Personal Details</p>
        <label for="username">Username:</label>
        <input type="text" name="name" formControlName="userName" />
        <div
          *ngIf="userName.invalid && (userName.dirty || userName.touched)"
          class="alert-message"
        >
          <div *ngIf="userName.errors.required">userName is required.</div>
          <div *ngIf="userName.errors.pattern">Invalid userName Format</div>
        </div>
        <div class="form-group">
          <div class="nested-form">
            <label for="email">Email:</label>
            <input type="email" name="email" formControlName="email" />
            <div
              *ngIf="email.invalid && (email.dirty || email.touched)"
              class="alert-message"
            >
              <div *ngIf="email.errors.required">email is required.</div>
              <div *ngIf="email.errors.email">Invalid email Format</div>
            </div>
          </div>
          <div class="nested-form">
            <label for="contact">Contact:</label>
            <input type="number" name="contact" formControlName="contact" />
            <div
              *ngIf="contact.invalid && (contact.dirty || contact.touched)"
              class="alert-message"
            >
              <div *ngIf="contact.errors.required">contact is required.</div>
              <div *ngIf="contact.errors.pattern">Invalid contact Format</div>
            </div>
          </div>
        </div>
      </div>
      <div class="form">
        <p style="width: 26%">Address Details</p>
        <div class="form-group">
          <div class="nested-form">
            <label for="address">Address Line 1:</label>
            <textarea rows="3" formControlName="address"></textarea>
            <div
              *ngIf="address.invalid && (address.dirty || address.touched)"
              class="alert-message"
            >
              <div *ngIf="address.errors.required">One Address is required</div>
            </div>
          </div>

          <div class="nested-form">
            <label for="address">Address Line 2:</label>
            <textarea rows="3"></textarea>
          </div>
        </div>
        <div class="nested-form">
          <div class="form-row mb-4">
            <div class="col">
              <label for="state">State: </label>
              <select
                class="form-control"
                placeholder="State"
                (change)="changeState($event.target.value)"
                formControlName="state"
              >
                <option>--Choose State--</option>
                <option *ngFor="let state of States">{{ state.name }}</option>
              </select>
              <div
                *ngIf="state.invalid && (state.dirty || state.touched)"
                class="alert-message"
              >
                <div *ngIf="state.errors.required">State is required.</div>
              </div>
            </div>
            <div class="col">
              <label for="state">City:</label>
              <select
                class="form-control"
                placeholder="City"
                formControlName="city"
              >
                <option>--Choose City--</option>
                <option *ngFor="let city of cities">{{ city }}</option>
              </select>
              <div
                *ngIf="city.invalid && (city.dirty || city.touched)"
                class="alert-message"
              >
                <div *ngIf="city.errors.required">city is required.</div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="form">
        <p style="width: 26%">Land Details</p>
        <div class="form-group">
          <div class="nested-form">
            <label for="address">Address of Land:</label>
            <textarea rows="3" formControlName="landAddress"></textarea>
            <div
              *ngIf="
                landAddress.invalid &&
                (landAddress.dirty || landAddress.touched)
              "
              class="alert-message"
            >
              <div *ngIf="landAddress.errors.required">
                Land Address is required
              </div>
            </div>
          </div>
        </div>

        <div class="form-group">
          <div class="nested-form">
            <label for="landArea">Land Area:</label>
            <input type="number" name="area" formControlName="area" />
            <div
              *ngIf="area.invalid && (area.dirty || area.touched)"
              class="alert-message"
            >
              <div *ngIf="area.errors.required">Land Area is required.</div>
            </div>
          </div>
          <div class="nested-form">
            <label for="pincode">Pincode:</label>
            <input type="number" name="pincode" formControlName="pincode" />
            <div
              *ngIf="pincode.invalid && (pincode.dirty || pincode.touched)"
              class="alert-message"
            >
              <div *ngIf="pincode.errors.required">Pincode is required.</div>
              <div *ngIf="pincode.errors.pattern">Invalid Pincode Format</div>
            </div>
          </div>
        </div>
      </div>
      <div class="form">
        <p style="width: 22%">Bank Details</p>
        <div class="form-group">
          <div class="nested-form">
            <label for="account">Account No.:</label>
            <input type="number" name="account" formControlName="accno" />
            <div
              *ngIf="accno.invalid && (accno.dirty || accno.touched)"
              class="alert-message"
            >
              <div *ngIf="accno.errors.required">Account No. is required.</div>
              <div *ngIf="accno.errors.pattern">Invalid Account No.</div>
            </div>
          </div>
          <div class="nested-form">
            <label for="ifsc">IFSC Code:</label>
            <input type="text" name="ifsc" formControlName="ifsc" />
            <div
              *ngIf="ifsc.invalid && (ifsc.dirty || ifsc.touched)"
              class="alert-message"
            >
              <div *ngIf="ifsc.errors.required">IFSC Code. is required.</div>
              <div *ngIf="ifsc.errors.pattern">Invalid IFSC</div>
            </div>
          </div>
        </div>
      </div>
      <div class="form">
        <p style="width: 18%">Document</p>
        <div class="document">
          <label for="aadhar">Aadhar Card No.:</label>
          <input type="file" name="fileToUpload" formControlName="aadhar" />
        </div>
        <div
          *ngIf="aadhar.invalid && (aadhar.dirty || aadhar.touched)"
          class="alert-message"
        >
          <div *ngIf="aadhar.errors.required">Aadhar card is required.</div>
        </div>
        <div class="document">
          <label for="pan">Pan Card No.:</label>
          <input type="file" name="fileToUpload" formControlName="pan" />
        </div>
        <div
          *ngIf="pan.invalid && (pan.dirty || pan.touched)"
          class="alert-message"
        >
          <div *ngIf="pan.errors.required">Pan Card is required.</div>
        </div>
        <div class="document">
          <label for="certificate">Certificate:</label>
          <input
            type="file"
            name="fileToUpload"
            formControlName="certificate"
          />
        </div>
        <div
          *ngIf="
            certificate.invalid && (certificate.dirty || certificate.touched)
          "
          class="alert-message"
        >
          <div *ngIf="certificate.errors.required">
            Certificate is required.
          </div>
        </div>
      </div>
      <div class="form">
        <p style="width: 17%">Password</p>
        <div class="form-group">
          <div class="nested-form">
            <label for="password">Password:</label>
            <input type="password" name="password" formControlName="password" />
            <div
              *ngIf="password.invalid && (password.dirty || password.touched)"
              class="alert-message"
            >
              <div *ngIf="password.errors.required">Password is required.</div>
              <div *ngIf="password.errors.pattern">
                Must contain 1 Uppercase, 1 Lowercase, 1 Special Character, 1
                Number and Minimum 8 characters
              </div>
            </div>
          </div>
          <div class="nested-form">
            <label for="password">Confirm Password:</label>
            <input
              type="password"
              name="confirmPassword"
              formControlName="confirmPassword"
            />
            <div
              *ngIf="
                confirmPassword.invalid &&
                (confirmPassword.dirty || confirmPassword.touched)
              "
              class="alert-message"
            >
              <div *ngIf="confirmPassword.errors.required">
                Password is required.
              </div>
              <div *ngIf="confirmPassword.errors.pattern">
                Must contain 1 Uppercase, 1 Lowercase, 1 Special Character, 1
                Number and Minimum 8 characters
              </div>
            </div>
          </div>
        </div>
      </div>
      <button class="reg-button" type="submit">Register</button>
      <p>
        Already have an account?
        <a class="log-btn" routerLink="/login" routerLinkActive="active"
          >Login</a
        >
      </p>
    </form>
  </div>
</div>
