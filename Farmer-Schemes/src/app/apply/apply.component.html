<app-navbary></app-navbary>

<h3 id="heading">Apply for Policy</h3>
<!-- <form class="form-group">
            <table>
                <tr>
                  <td>Season: </td>
                  <input type="text">
                </tr>
                <tr><td>Year:</td>
                <input type="text">
                </tr>
                <tr><td>Crop: </td>
                  <td><input type="text"></td>
                </tr>
                <tr><td>Sum Insured: </td>
                <td><input type="number"></td></tr>
                <tr><td>Area:  </td>
                <td><input type="text"></td></tr>
                <tr>
                    <td><button type="reset" class="btn btn-warning">Reset</button></td>
                    <td><button type="submit" class="btn btn-info">Calculate</button>
                </tr>              
                </table>
            </form> -->
<div class="card">
  <form class="align" (ngSubmit)="onCalculate()">
    <div class="form-group row">
      <label for="year" class="col-sm-2 col-form-label">Year</label>
      <div class="col-sm-3">
        <select
          class="form-control"
          id="inputPassword3"
          placeholder="Year"
          name="year"
          id="year"
          [(ngModel)]="insurance.year"
          #year="ngModel"
        >
        <option value="2020" selected>2020</option>
        <option value="2021">2021</option>
        </select>
      </div>
    </div>
    <div class="form-group row">
      <label for="season" class="col-sm-2 col-form-label">Season</label>
      <div class="col-sm-3">
        <select 
          type="text"
          class="form-control"
          name ="Season"
          id="season"
          placeholder="Season"   
          [(ngModel)]="insurance.season"
          #season="ngModel">
          <option value="Kharif">Kharif</option>
          <option value="Rabi" selected>Rabi</option>
          </select>         
      </div>
    </div>
    <div class="form-group row">
      <label for="crop" class="col-sm-2 col-form-label">Crop Name</label>
      <div class="col-sm-3">
        <input
          type="text"
          class="form-control"
          name="cropname"
          placeholder="Crop Name"
          required pattern="[a-z]{3,10}"
          [(ngModel)]="insurance.crop_name"
          #name="ngModel"
        /><br>
        <div *ngIf="name.touched &&  name.invalid" class="alert-warning">
          Invalid Crop Name
        </div>
      </div>
    </div>
    <div class="form-group row">
      <label for="sum" class="col-sm-2 col-form-label">Sum Insured</label>
      <div class="col-sm-3">
        <input
          type="number"
          class="form-control"
          min="20000"
          step="1000"
          id="sum"
          name="sumInsured"
          [(ngModel)]="insurance.sumInsured"
        />
      </div>
    </div>
    <div class="form-group row">
      <label for="sum" class="col-sm-2 col-form-label">Area(in Hectares)</label>
      <div class="col-sm-3">
        <input
          type="number"
          class="form-control"
          min="0.5"
          step="0.5"
          id="Area"
          name="Area"
          [(ngModel)]="insurance.policyCropArea"
        />
      </div>
    </div>
    <div class="form-group row">
      <div class="col-sm-10">
        <button type="reset" class="btn btn-warning action">Reset</button>
        <button type="submit" class="btn btn-info action">Calculate</button>
      </div>
    </div>
  </form>
</div>

<table class="table-bordered table-striped" [hidden]="!flag">
  <thead>
    <tr>
      <th>Company</th>
      <th>Sum/Hectare</th>
      <th>Crop Type</th>
      <th>Crop Name</th>
      <th>Premium</th>
      <th>Share Premium</th>
      <th>Area</th>
      <th>Sum Insured</th>
      <th>Action</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>{{insurance.policyCompany}}</td>
      <td>{{insurance.sumPerHectare}}</td>
      <td>{{insurance.season}}</td>
      <td>{{insurance.crop_name}}</td>
      <td>{{insurance.policyPremiumAmount}}</td>
      <td>{{insurance.policySharedPremium}} </td>
      <td>{{insurance.policyCropArea}}</td>
      <td>{{insurance.sumInsured}}</td>
      <td><button (click)="onApply()" type="button" class="btn btn-success">Apply</button></td>
    </tr>
  </tbody>
</table>
